(this.webpackJsonpflorence=this.webpackJsonpflorence||[]).push([[0],{115:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},143:function(e,t,n){},148:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(11),i=n.n(r),o=(n(115),n(12)),s=n.n(o),u=n(17),d=n(13),l=n(50),j=n(94),O=n(205),b=n(193),p=n(190),f=n(207),x=n(204),m=n(213),v=n(89),h=n.n(v),S=n(90),_=n.n(S),g=n(91),E=n.n(g),y=n(92),T=n.n(y),C=(n(117),n.p+"static/media/About Florence.1e02f1e5.png"),N=n.p+"static/media/Copy of Copy of Florence.b31350a6.png",P=n(2);var A=function(){return Object(P.jsxs)("div",{className:"About",children:[Object(P.jsx)("img",{className:"about florence",src:C,alt:"Florence the invetory of the electic fridge."}),Object(P.jsx)("img",{className:"about florence",src:N,alt:"Florence the invetory of the electic fridge."})]})},R=(n(119),n(120),n.p+"static/media/Copy of Florence (9).721f04aa.png");var w=function(){return Object(P.jsx)("div",{className:"Home",logo:!0,children:Object(P.jsx)("img",{className:"about florence",src:R,alt:"logo"})})},D=n(186),I=(n(68),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ENDPOINT||window.location.origin);var F=function(){return Object(P.jsxs)("div",{className:"LogIn",children:[Object(P.jsx)(D.a,{className:"btn",variant:"contained",color:"primary",href:"".concat(I,"/login"),children:"Login"}),Object(P.jsx)(D.a,{className:"btn",variant:"contained",color:"secondary",href:"".concat(I,"/register"),children:"Register"})]})},k=n(15),H=n.n(k),K=(n(143),n(144),n(146),n(194)),W=n(197),L=n(195),U=n(196),B=n(202),V=n(210),z=n(45),M=n.n(z),q=(n(148),n(87)),J=n.n(q),G=n(189),Q=n(191),X=n(192),Y=n(86),Z=n.n(Y),$=n(88),ee=n.n($),te=n(198),ne=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ENDPOINT||window.location.origin,ce=Object(G.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}));function ae(e){var t=ce(),n=Object(c.useState)([]),a=Object(d.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)([]),l=Object(d.a)(o,2),j=l[0],O=l[1],f=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(ne,"/item/").concat(t,"/decrease_count"));case 2:n=e.sent,console.log(n),m();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.delete("".concat(ne,"/item/").concat(t));case 2:n=e.sent,console.log(n),m();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function m(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(s.a.mark((function t(){var n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.get("".concat(ne,"/fridge/").concat(e.fridgeId,"/items"));case 2:n=t.sent,c=(c=n.data.filter((function(t){return e.expirySoon?M()(t.expiration).diff(M()(),"days")<3:t.product_id===e.selectedProduct}))).sort((function(e,t){return M()(e.expiration).diff(M()(t.expiration))})),console.log(c),i(c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(ne,"/product"));case 2:t=e.sent,O(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){0!==j.count&&m()}),[j,e.fridgeId,e.selectedProduct]),Object(P.jsxs)("div",{children:[Object(P.jsx)(p.a,{className:t.appBar,color:"secondary",children:Object(P.jsxs)(Q.a,{children:[Object(P.jsx)(X.a,{edge:"start",color:"inherit",onClick:e.handleClose,"aria-label":"close",children:Object(P.jsx)(Z.a,{})}),Object(P.jsx)(b.a,{variant:"h6",className:t.title,children:"Items"})]})}),Object(P.jsx)("div",{className:"itemContainer",children:r.map((function(e){var t=j.find((function(t){return t.id===e.product_id}));if(console.log(t),!t)return Object(P.jsx)(P.Fragment,{});var n=M()(e.expiration);return Object(P.jsxs)(K.a,{className:"item",children:[Object(P.jsxs)(L.a,{children:[Object(P.jsx)(b.a,{color:"textSecondary",gutterBottom:!0,children:t.name}),Object(P.jsx)(b.a,{color:"textSecondary",gutterBottom:!0,children:e.count}),Object(P.jsxs)(b.a,{color:"textSecondary",gutterBottom:!0,children:["Expires ",n.fromNow()]}),Object(P.jsx)(U.a,{className:"product-image",image:t.image,title:t.name})]}),Object(P.jsxs)(W.a,{children:[Object(P.jsx)(te.a,{onClick:function(){f(e.id)},color:"primary","aria-label":"add",size:"small",children:Object(P.jsx)(J.a,{})}),Object(P.jsx)(te.a,{onClick:function(){x(e.id)},color:"primary","aria-label":"add",size:"small",children:Object(P.jsx)(ee.a,{})})]})]})}))})]})}var re=n(199),ie=n(209),oe=n(206),se=n(212),ue=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ENDPOINT||window.location.origin;var de=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(-1),o=Object(d.a)(i,2),l=o[0],j=o[1],O=Object(c.useState)(""),b=Object(d.a)(O,2),p=b[0],f=b[1],x=function(){var t=Object(u.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,H.a.post("".concat(ue,"/product"),{name:a,category_id:parseInt(l),image:p});case 3:t.sent,e.getProducts(),r(""),f(""),j(-1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsx)(re.a,{children:Object(P.jsxs)("form",{className:"form",onSubmit:x,children:[Object(P.jsx)("label",{children:"Add New Product"}),Object(P.jsx)("div",{children:Object(P.jsx)(ie.a,{variant:"outlined",type:"text",name:"name",placeholder:"Food Name",value:a,onChange:function(e){return r(e.target.value)}})}),Object(P.jsx)("div",{children:Object(P.jsx)(ie.a,{variant:"outlined",type:"url",name:"Image",placeholder:"Paste image URL",value:p,onChange:function(e){return f(e.target.value)}})}),Object(P.jsx)("div",{children:Object(P.jsxs)(oe.a,{value:l,onChange:function(e){return j(e.target.value)},displayEmpty:!0,children:[Object(P.jsx)(se.a,{value:-1,disabled:!0,children:"Select Category"}),e.categories&&e.categories.map((function(e){return Object(P.jsx)(se.a,{value:e.id,children:e.name})}))]})}),Object(P.jsx)("div",{className:"space",children:Object(P.jsx)(D.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})})},le=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ENDPOINT||window.location.origin;var je=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(-1),o=Object(d.a)(i,2),l=o[0],j=o[1],O=Object(c.useState)(""),b=Object(d.a)(O,2),p=b[0],f=b[1],x=function(){var t=Object(u.a)(s.a.mark((function t(n){var c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c={count:parseInt(a),product_id:parseInt(l),fridge_id:e.fridgeId},(i=parseInt(p))&&(c.expiration=i),t.next=6,H.a.post("".concat(le,"/item"),c);case 6:t.sent,e.getItems(),f(""),j(-1),r("");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsx)(re.a,{children:Object(P.jsxs)("form",{className:"form",onSubmit:x,children:[Object(P.jsx)("label",{children:"Add New Item"}),Object(P.jsx)("div",{children:Object(P.jsxs)(oe.a,{value:l,onChange:function(e){return j(e.target.value)},displayEmpty:!0,children:[Object(P.jsx)(se.a,{value:-1,disabled:!0,children:"Select Product"}),e.products&&e.products.map((function(e){return Object(P.jsx)(se.a,{value:e.id,children:e.name})}))]})}),Object(P.jsx)("div",{children:Object(P.jsx)(ie.a,{variant:"outlined",type:"number",name:"count",placeholder:"Count",value:a,onChange:function(e){return r(e.target.value)}})}),Object(P.jsx)(ie.a,{variant:"outlined",type:"number",name:"expiration",placeholder:"Expiration",value:p,onChange:function(e){return f(e.target.value)}}),Object(P.jsx)("div",{className:"space",children:Object(P.jsx)(D.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})})},Oe=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ENDPOINT||window.location.origin,be=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TEST_USER||window.userId,pe=a.a.forwardRef((function(e,t){return Object(P.jsx)(B.a,Object(l.a)({direction:"up",ref:t},e))}));var fe=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),i=Object(d.a)(r,2),o=i[0],l=i[1],j=Object(c.useState)(),O=Object(d.a)(j,2),p=O[0],f=O[1],x=Object(c.useState)(),m=Object(d.a)(x,2),v=m[0],h=m[1],S=Object(c.useState)([]),_=Object(d.a)(S,2),g=_[0],E=_[1],y=Object(c.useState)([]),T=Object(d.a)(y,2),C=T[0],N=T[1],A=Object(c.useState)(void 0),R=Object(d.a)(A,2),w=R[0],I=R[1],F=Object(c.useState)(!1),k=Object(d.a)(F,2),B=k[0],z=k[1],M=Object(c.useState)(!1),q=Object(d.a)(M,2),J=q[0],G=q[1],Q=Object(c.useState)(),X=Object(d.a)(Q,2),Y=X[0],Z=X[1],$=function(){G(!0)},ee=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(Oe,"/recipes/"));case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){G(!1),h(),z(!1)};function ne(){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(Oe,"/product"));case 2:t=e.sent,E(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(Oe,"/fridge/").concat(o.fridge_id,"/items"));case 2:t=e.sent,n={},t.data.map((function(e){return n[e.product_id]?n[e.product_id].quantity+=e.count:n[e.product_id]={quantity:e.count,item:e},e})),a(Object.values(n)),N(Object.values(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){if(void 0!==w&&0!==n.count&&0!==g.count){var e=n.filter((function(e){if(-1===w)return!0;var t=g.find((function(t){return t.id===e.item.product_id}));return!!t&&t.category_id===w}));N(e)}}),[g,w,n]),Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(Oe,"/customer/").concat(be));case 2:return t=e.sent,l(t.data),e.next=6,H.a.get("".concat(Oe,"/category"));case 6:n=e.sent,Z(n.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ne(),function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){o&&0!==g.length&&re()}),[o,g]),Object(P.jsxs)("div",{className:"MyFridge",children:[Object(P.jsxs)("div",{className:"btnParent",children:[Object(P.jsx)(D.a,{className:"btn",variant:"contained",onClick:function(){return I(-1)},color:-1===w?"secondary":"primary",children:"All Items"}),Object(P.jsx)(D.a,{className:"btn",variant:"contained",onClick:function(){z(!0),$()},color:B?"secondary":"primary",children:"Expiring Soon"}),Object(P.jsx)(D.a,{size:"small",className:"btn",variant:"contained",onClick:function(){return I(4)},color:4===w?"secondary":"primary",children:"Dairy"}),Object(P.jsx)(D.a,{className:"btn",variant:"contained",onClick:function(){return I(3)},color:3===w?"secondary":"primary",children:"Meat"}),Object(P.jsx)(D.a,{className:"btn",variant:"contained",onClick:function(){return I(5)},color:5===w?"secondary":"primary",children:"Fruit"}),Object(P.jsx)(D.a,{className:"btn",variant:"contained",onClick:function(){return I(2)},color:2===w?"secondary":"primary",children:"Veggies"}),Object(P.jsx)(D.a,{className:"btn",variant:"contained",onClick:function(){return I(7)},color:7===w?"secondary":"primary",children:"Drinks"})]}),Object(P.jsx)("div",{className:"itemParent",children:C.map((function(e){var t=g.find((function(t){return t.id===e.item.product_id}));return t?Object(P.jsxs)(K.a,{className:"item",children:[Object(P.jsxs)(L.a,{children:[Object(P.jsx)(b.a,{color:"textSecondary",gutterBottom:!0,children:t.name}),Object(P.jsx)(b.a,{color:"textSecondary",gutterBottom:!0,children:e.quantity}),Object(P.jsx)(U.a,{className:"product-image",image:t.image,title:t.name})]}),Object(P.jsx)(W.a,{children:Object(P.jsx)(D.a,{size:"small",onClick:function(){$(),h(t.id)},children:"show item"})})]}):Object(P.jsx)(P.Fragment,{})}))}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"addProduct"}),Y&&Object(P.jsx)(de,{getProducts:ne,categories:Y}),o&&g&&Object(P.jsx)(je,{getItems:re,products:g,fridgeId:o.fridge_id}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:p&&p.map((function(e){return Object(P.jsxs)("div",{children:[Object(P.jsx)("img",{src:e.image,alt:e.name}),Object(P.jsx)("div",{children:Object(P.jsx)("a",{href:e.url,rel:"noreferrer",target:"_blank",children:e.name})})]},e.name)}))}),Object(P.jsx)(D.a,{onClick:function(){ee()},className:"btn recipes",variant:"contained",color:"secondary",children:"Find Recipes"})]}),o&&Object(P.jsx)(V.a,{fullScreen:!0,open:J,onClose:te,TransitionComponent:pe,children:Object(P.jsx)(ae,{handleClose:te,fridgeId:o.fridge_id,selectedProduct:v,expirySoon:B})})]})]})},xe=n(93),me=n(203),ve=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TEST_USER||window.userId,he=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ENDPOINT||window.location.origin,Se=Object(xe.a)({palette:{primary:{main:"#FAC4C4"},secondary:{main:"#22783E"}}});function _e(e){var t=e.children,n=e.value,c=e.index,a=Object(j.a)(e,["children","value","index"]);return Object(P.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==c,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c)},a),{},{children:n===c&&Object(P.jsx)(O.a,{p:3,children:Object(P.jsx)(b.a,{children:t})})}))}var ge=function(){var e=a.a.useState(0),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),o=Object(d.a)(i,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(he,"/customer/").concat(ve));case 2:t=e.sent,j(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ve&&function(){e.apply(this,arguments)}()}),[]),Object(P.jsx)(me.a,{theme:Se,children:Object(P.jsxs)("div",{className:"App container",children:[Object(P.jsxs)(p.a,{position:"sticky",color:"default",children:[Object(P.jsxs)(f.a,{value:n,onChange:function(e,t){r(t)},variant:"scrollable",scrollButtons:"on",indicatorColor:"secondary",textColor:"primary","aria-label":"scrollable force tabs example",children:[Object(P.jsx)(x.a,{label:"Home",icon:Object(P.jsx)(h.a,{})}),Object(P.jsx)(x.a,{label:"My Fridge",icon:Object(P.jsx)(_.a,{})}),Object(P.jsx)(x.a,{label:"About",icon:Object(P.jsx)(E.a,{})}),Object(P.jsx)(x.a,{label:"Log In",icon:Object(P.jsx)(T.a,{})})]}),l&&Object(P.jsx)(m.a,{className:"avatar",alt:l.user_name,src:l.picture})]}),Object(P.jsx)(_e,{value:n,index:0,children:Object(P.jsx)(w,{})}),Object(P.jsx)(_e,{value:n,index:1,children:Object(P.jsx)(fe,{})}),Object(P.jsx)(_e,{value:n,index:2,children:Object(P.jsx)(A,{})}),Object(P.jsx)(_e,{value:n,index:3,children:Object(P.jsx)(F,{})})]})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(ge,{})}),document.getElementById("root")),Ee()},68:function(e,t,n){}},[[151,1,2]]]);
//# sourceMappingURL=main.4dd57abd.chunk.js.map